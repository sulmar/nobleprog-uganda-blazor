@page "/customers"
@inject ICustomerService Api

<h3>List of Customers</h3>

<ItemsComponent Items="@customers"> 
    <TableTemplate Items="@customers">
        <HeaderTemplate>
            <tr>
                <th>Id</th>
                <th>First Name</th>
                <th>Last Name</th>            
            </tr>
        </HeaderTemplate>

        <RowTemplate Context="customer">
            <tr>
                <td>@customer.Id</td>
                <td>@customer.FirstName</td>
                <td>@customer.LastName</td>
            </tr>
        </RowTemplate>
    </TableTemplate>

</ItemsComponent>


@code{
    private List<Customer> customers;

    protected override async Task OnInitializedAsync()
    {
        customers = await Api.GetAllAsync();
    }
}